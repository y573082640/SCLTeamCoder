{"title": "ISO 8601 calendar week calculation", "name": "LGF_GetCalendarWeek_ISO", "description": "This function uses the specified date to calculate the calendar week and the number of days that have passed since the beginning of the year for ISO 8601 European countries.", "type": "FUNCTION", "input": [{"name": "date", "type": "DTL", "description": "Date used to calculate the calendar week and days since 1 January"}], "output": [{"name": "calendarDay", "type": "DInt", "description": "Days past since January 1st on given date"}, {"name": "error", "type": "Bool", "description": "FALSE: No error / TRUE: An error occurred during the execution of the FB"}, {"name": "status", "type": "Word", "description": "16#0000-16#7FFF: Status of the FB / 16#8000-16#FFFF: Error identification"}], "in/out": [], "return_value": [{"type": "DInt", "description": "Number of the calendar week."}], "status_codes": {"16#0000": "STATUS_NO_ERROR", "16#8201": "ERR_LIM_DATE Date out of the range"}, "user_defined_types": [], "description_zh": "\n一个函数FC，用于根据ISO 8601标准计算指定日期的日历周数和该日期距离年初的天数。函数考虑了欧洲国家遵循的ISO 8601标准，即新的一周从周一开始，每年的第一周包含该年的第一个星期四，一年有52或53周。函数还会检查前一年是否有53周，并根据1月1日的星期几对已过的天数进行校正。如果计算出的日期周数小于1，则需要根据前一年是否有53周来确定是第53周还是第52周。同样，如果计算出的周数为53周，则需要检查当年是否有53周来确定是第53周还是第1周。函数返回日历周数，并输出计算过程中是否发生错误的状态信息。\n\n\n"}