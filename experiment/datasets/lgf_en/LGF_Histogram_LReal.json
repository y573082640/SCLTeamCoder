{"title": "Histogram Calculation Function Block for Real Data", "name": "LGF_Histogram_LReal", "description": "The histogram shows the frequency distribution of a sample by class with real values.", "type": "FUNCTION_BLOCK", "input": [{"name": "execute", "type": "Bool", "description": "Activation of the calculation with each positive edge."}, {"name": "numberOfClasses", "type": "UInt", "description": "Number of desired classes."}], "output": [{"name": "error", "type": "Bool", "description": "FALSE: No error, TRUE: An error occurred during the execution of the FB"}, {"name": "status", "type": "Word", "description": "Status of the FB and error identification."}, {"name": "subfunctionStatus", "type": "Word", "description": "Status or return value of called FB's, FC's and system blocks"}, {"name": "histValues", "type": "Array[0..1, 0..#CLASSES_COUNTER_UP_LIMIT] of LReal", "description": "Displays the relative frequency and class centers."}, {"name": "axis", "type": "Array[0..3] of LReal", "description": "Specifies the axis values."}, {"name": "classWidth", "type": "LReal", "description": "Returns the calculated class width."}], "in/out": [{"name": "values", "type": "Array[*] of LReal", "description": "The array containing the data series for calculation."}], "return_value": [], "status_codes": {"16#0000": "STATUS_EXECUTION_FINISHED: Execution finished without errors", "16#7000": "STATUS_NO_CALL: No call of FB. The block waits for activation.", "16#7001": "STATUS_FIRST_CALL: First call of FB after enabling", "16#8600": "ERR_SHELL_SORT: Error in command `LGF_ShellSort_LReal`.", "16#9101": "ERR_WRONG_NO_CLASSES: Incorrect number of classes."}, "user_defined_types": [], "description_zh": "\n一个函数块FB，用于计算包含实数（LReal）数据系列的直方图。该直方图通过类（class）显示样本的频率分布。函数块接受一个布尔型输入execute，表示是否执行计算，以及一个无符号整型输入numberOfClasses，表示期望的类数量。函数块的输出包括一个布尔型错误标志error，一个字型状态status，一个字型子函数状态subfunctionStatus，一个二维LReal数组histValues，用于显示相对频率和类中心，一个LReal数组axis，用于指定轴值，以及一个LReal型输出classWidth，返回计算出的类宽度。函数块还接受一个LReal数组values作为输入/输出参数，包含用于计算的数据系列。\n\n当execute输入信号有上升沿时，函数块开始执行计算。首先，它检查输入的类数量是否在允许的范围内（1到15之间）。然后，它计算数组values中的元素数量，并对数组进行排序。接下来，函数块识别数组中的最大值和最小值，并计算类宽度。它遍历排序后的数组，统计每个类中的值数量，并计算相对频率。最后，函数块找到每个类的中间值，并将所有计算结果复制到输出数组中。\n\n函数块的状态码包括执行完成无错误、没有调用、第一次调用和类数量错误等。子函数状态码用于指示调用的子函数的状态或返回值。\n\n\n"}