{
    "title": "Non-Linear Interpolation Function",
    "name": "LGF_NonLinearInterpolation",
    "description": "## Short description ##\n\nThis function implements a characteristic curve. The characteristic curve is defined via an \ninterpolation point table with linear interpolation between the interpolation points. A prescribed \ninput value generates an output value in each cycle based on the characteristic curve from the \ninterpolation point table.\n\n## Functional description ##\n\nThe value of the output outputValue based on the following priority:\n1. As long as the input enDefaultOutValue is set, the value defined via the parameter \ndefaultOutValue will be output as output value.\n2. As long as the input reset is set, the block is reset and the output value is 0.0.\n3. If the input track is set, the output value will be output directly as input value, without \nconsideration of the characteristic curve.\n4. Based on the input value, a characteristic curve value is calculated via the linearly \ninterpolated, interpolation point table and output as an output value.\n– If the input value is between two interpolation points within the interpolation point table, \nthe output value is calculated as the intersection with the connecting line between the \npreceding and following interpolation points (see Figure below).\n– If the input value is before the first interpolation point (lowest value defined in the \ninterpolation point table), the output value will be calculated as the intersection of the \nline formed by the first two interpolation points of the interpolation point table.\n– If the input value is after the last interpolation point (highest value defined in the \ninterpolation point table), the output value will be calculated as the intersection of the \nline formed by the last two interpolation points of the interpolation point table.\nInterpolation point table\nThe interpolation point table is implemented through a variable of the data type Array. The type \nof the array corresponds to the PLC data type LGF_typeNonLinSetpoints.\nYou can create the interpolation point table in any global data block. The size of the array \ndepends on the number of interpolation points.\nNOTICE To keep the computing time of the block as short as possible, there is no check of the \nparameterization or the data of the interpolation point table.\nWhen entering the interpolation points in the interpolation point table, the following \nparticularities must be considered. If these particularities are not taken into account, it can \nlead to a malfunction of the block.\n• At least two interpolation points must be entered in the interpolation point table.\n• The interpolation points in the interpolation point table must be entered in the Table in ascending \norder of the input values.",
    "type": "FUNCTION_BLOCK",
    "input": [
        {
            "name": "value",
            "type": "LReal",
            "description": "Input value for calculating the output value"
        },
        {
            "name": "defaultOutValue",
            "type": "LReal",
            "description": "Value for pre-assignment of the output variable"
        },
        {
            "name": "enDefaultOutValue",
            "type": "Bool",
            "description": "Assign default output value"
        },
        {
            "name": "track",
            "type": "Bool",
            "description": "Follow the value of the input without using the characteristic curve"
        },
        {
            "name": "reset",
            "type": "Bool",
            "description": "Reset the interpolation if the point table is changed in running operation"
        }
    ],
    "output": [
        {
            "name": "outputValue",
            "type": "LReal",
            "description": "The calculated output value from the input value"
        }
    ],
    "in/out": [
        {
            "name": "setpoints",
            "type": "Array[*] of LGF_typeNonLinSetpoints",
            "description": "Setpoint table for defining the characteristic curve"
        }
    ],
    "return_value": [],
    "status_codes": {},
    "user_defined_types": [
        {
            "name": "LGF_typeNonLinSetpoints",
            "description": "Data type for setup a setpoint table",
            "member": [
                {
                    "name": "inputValue",
                    "type": "LReal",
                    "default": "0.0",
                    "description": "Input value to be interpolated"
                },
                {
                    "name": "outputValue",
                    "type": "LReal",
                    "default": "0.0",
                    "description": "Corresponding interpolated value"
                }
            ]
        }
    ]
}