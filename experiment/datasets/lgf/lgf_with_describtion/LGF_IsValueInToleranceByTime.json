{
    "title": "Value Tolerance Checker by Time",
    "name": "LGF_IsValueInToleranceByTime",
    "description": "## Short description ##\n\nChecks if a given value is within a specified tolerance in percent of a given set point.\nThe block has a configurable timing for set point change hiding, lower limit and as well for upper \nlimit violation hiding.\n\n## Functional description ##\n\nThe setpoint, lowerMinimum and upperMaximum variables define a value range.\nThe function checks whether the value is below, in or above the value range. The outputs \nbelowLowLimit, inLimits, or overHighLimit show where the value is located.\nBy the configuration it is possible to define whether the borders are given as absolute values or \nin percentage from set point.\nThe timing could be adjusted for set point changes and as well for hiding the violating of the \nlower or upper limit in case of peaks.\nFigure: Principle of operation",
    "type": "FUNCTION_BLOCK",
    "input": [
        {
            "name": "value",
            "type": "Real",
            "description": "Value to check if in range of setpoint"
        },
        {
            "name": "setpoint",
            "type": "Real",
            "description": "Setpoint"
        },
        {
            "name": "lowerMinimum",
            "type": "Real",
            "description": "Lower limit/tolerance of the setpoint in percent or absolut"
        },
        {
            "name": "upperMaximum",
            "type": "Real",
            "description": "Upper limit/tolerance of the setpoint in percent or absolut"
        },
        {
            "name": "reset",
            "type": "Bool",
            "description": "Reset Block"
        },
        {
            "name": "configuration",
            "type": "LGF_typeIsValueInToleranceByTimeConfiguration",
            "description": "Module related configuration parameters"
        }
    ],
    "output": [
        {
            "name": "overHighLimit",
            "type": "Bool",
            "description": "TRUE: if value is above high limit"
        },
        {
            "name": "belowLowLimit",
            "type": "Bool",
            "description": "TRUE: if value is below low limit"
        },
        {
            "name": "inLimits",
            "type": "Bool",
            "description": "TRUE: if value is in between the limits"
        },
        {
            "name": "setpointChange",
            "type": "Bool",
            "description": "TRUE: when a setpoint change has been detected"
        },
        {
            "name": "error",
            "type": "Bool",
            "description": "Error occured"
        },
        {
            "name": "status",
            "type": "Word",
            "description": "Status of the function"
        }
    ],
    "in/out": [],
    "return_value": [],
    "status_codes": {
        "16#0000": "STATUS_NO_ERROR",
        "16#8401": "ERR_RANGE_LIMIT_VALUE_CALC",
        "16#8402": "ERR_SETPOINT_ABOVE_HIGH_LIMIT",
        "16#8403": "ERR_SETPOINT_BELOW_LOW_LIMIT"
    },
    "user_defined_types": [
        {
            "name": "LGF_typeIsValueInToleranceByTimeConfiguration",
            "description": "Module related configuration parameters",
            "member": [
                {
                    "name": "disableLimits",
                    "type": "Bool",
                    "default": "FALSE",
                    "description": "TRUE: Disable the monitoring timer. Leaving the tolerance triggers immediately"
                },
                {
                    "name": "limitsAsAbsoluteValues",
                    "type": "Bool",
                    "default": "FALSE",
                    "description": "TRUE: Limit given as absolut value / FALSE: Limits given as tolerance from setpoint"
                },
                {
                    "name": "toleranceAsAbsoluteValues",
                    "type": "Bool",
                    "default": "FALSE",
                    "description": "TRUE: Toleranze given as absolut value / FALSE: Toleranze in percent from Setpoint"
                },
                {
                    "name": "upperLimitMonitoringTime",
                    "type": "Time",
                    "default": "T#10S",
                    "description": "Monitoring time for the upper limit violation"
                },
                {
                    "name": "lowerLimitMonitoringTime",
                    "type": "Time",
                    "default": "T#10S",
                    "description": "Monitoring time for the lower limit violation"
                },
                {
                    "name": "setpointChangeMonitoringTime",
                    "type": "Time",
                    "default": "T#20S",
                    "description": "Monitoring time for setpoint changes"
                }
            ]
        }
    ]
}