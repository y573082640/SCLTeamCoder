{"variables": ["1. name: amplitude, type: Real, initial: 1.0, role: Specifies the amplitude of the triangular signal.", "2. name: offset, type: Real, initial: None, role: Specifies the offset of the triangular signal.", "3. name: periode, type: UDInt, initial: 1000, role: Specifies the period of the triangular signal.", "4. name: phaseShift, type: Real, initial: None, role: Specifies the phase shift of the triangular signal.", "5. name: callOB, type: OB_CYCLIC, initial: None, role: The cyclic interrupt OB calling the function block.", "6. name: reset, type: Bool, initial: None, role: Input to reset the signal generator.", "7. name: value, type: Real, initial: None, role: Outputs the current value of the triangular signal.", "8. name: error, type: Bool, initial: False, role: Outputs an error indicator.", "9. name: status, type: Word, initial: 16#0, role: Outputs the status of the function block or an error identification.", "10. name: subFunctionStatus, type: Word, initial: 16#0, role: Outputs the status or return value of called function blocks or system blocks.", "11. name: statCounter, type: UDInt, initial: None, role: A temporary variable to keep track of the time interval.", "12. name: tempCycleTime, type: UDInt, initial: None, role: Temporary variable to store the cycle time of the calling cyclic interrupt OB.", "13. name: tempCyclePhase, type: UDInt, initial: None, role: Temporary variable to store the cycle phase of the calling cyclic interrupt OB.", "14. name: tempCycleStatus, type: Word, initial: None, role: Temporary variable to store the status of the QRY_CINT instruction.", "15. name: tempReadTimeStatus, type: Int, initial: None, role: Temporary variable to store the return status of the QRY_CINT instruction.", "16. name: tempValue, type: Real, initial: None, role: Temporary variable used to calculate the current triangular signal value.", "17. name: tempPhaseShift, type: Real, initial: None, role: Temporary variable used to calculate the adjusted phase shift.", "18. name: SECOND_IN_MS, type: UDInt, initial: 1000, role: Constant for the number of milliseconds in a second.", "19. name: ZERO, type: Int, initial: 0, role: Constant representing the integer zero.", "20. name: SLOPE, type: Real, initial: 4.0, role: Constant used in the triangular signal calculation formula.", "21. name: NEGATIVE_LINE_Y_OFFSET, type: Real, initial: 2.0, role: Constant used in the triangular signal calculation formula.", "22. name: SUB_STATUS_NO_ERROR, type: Word, initial: 16#0000, role: Constant representing no error in sub-functions.", "23. name: STATUS_FINISHED_NO_ERROR, type: Word, initial: 16#0000, role: Constant representing no error in the function block execution.", "24. name: QRY_CINT_OB_UNAVAILABLE, type: Word, initial: 16#0000, role: Constant representing the OB unavailable status for the QRY_CINT instruction.", "25. name: ERR_OB_UNAVAILABLE, type: Word, initial: 16#8600, role: Constant representing the error code for OB unavailable.", "26. name: ERR_QRY_CINT, type: Word, initial: 16#8601, role: Constant representing the error code for the QRY_CINT instruction."], "instructions": ["QRY_CINT", "INT_TO_WORD", "UDINT_TO_REAL", "REAL_TO_UDINT", "ABS"], "planning": "# Step1. Get the sample time based on the calling cyclic interrupt OB using the QRY_CINT instruction. Store the results in tempCycleTime, tempCyclePhase, and tempCycleStatus.\n# Step2. Perform error handling based on the status of the QRY_CINT instruction. If an error occurs, set the error flag and appropriate status codes, then exit the function block.\n# Step3. If the reset input is true, reset the statCounter and tempValue to 0. Otherwise, increment the statCounter with each call and calculate the true phase shift.\n# Step4. Calculate the triangular signal value using the formula and store it in tempValue.\n# Step5. Assign the calculated triangular signal value plus the offset to the value output. Set the error flag to false and update the status and subFunctionStatus with the no error constants.\n# Step6. Set ENO to TRUE to indicate no error.", "name": "LGF_TriangleCI"}