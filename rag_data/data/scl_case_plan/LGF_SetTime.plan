{"variables": ["1. name: execute, type: Bool, initial: None, role: A trigger input to start the action.", "2. name: systemTime, type: DTL, initial: None, role: The system time to be set in the PLC.", "3. name: isLocalTime, type: Bool, initial: None, role: Determines if the systemTime is local or UTC.", "4. name: timeZone, type: Int, initial: None, role: The time zone offset to be applied.", "5. name: isDaylightSavingTime, type: Bool, initial: None, role: Indicates whether daylight saving time is active.", "6. name: done, type: Bool, initial: False, role: Indicates if the action has been completed successfully.", "7. name: busy, type: Bool, initial: False, role: Indicates if the function block is currently processing.", "8. name: error, type: Bool, initial: False, role: Indicates if an error has occurred.", "9. name: lastSetTimeZone, type: String, initial: None, role: Stores the last set time zone.", "10. name: status, type: Word, initial: #STATUS_NO_CALL, role: Provides the status of the function block.", "11. name: subFunctionStatus, type: Word, initial: None, role: Provides the status of called function blocks.", "12. name: statExecuteOld, type: Bool, initial: False, role: Stores the previous state of the execute input.", "13. name: statDone, type: Bool, initial: False, role: Internal variable to store the done status.", "14. name: statBusy, type: Bool, initial: False, role: Internal variable to store the busy status.", "15. name: statError, type: Bool, initial: False, role: Internal variable to store the error status.", "16. name: statStatus, type: Word, initial: #STATUS_NO_CALL, role: Internal variable to store the function block status.", "17. name: statSubFunctionStatus, type: Word, initial: None, role: Internal variable to store the status of called function blocks.", "18. name: statFBState, type: DInt, initial: #FB_STATE_NO_PROCESSING, role: Represents the state of the function block.", "19. name: instSetTimeZone, type: SET_TIMEZONE, initial: None, role: Instance of the SET_TIMEZONE instruction.", "20. name: statTimeZone, type: TimeTransformationRule, initial: (0, 60, 3, 5, 1, 2, 0, 10, 5, 1, 3, 0, 'not even set by LGF_TimeZone'), role: Represents the time zone information.", "21. name: tempExecute, type: Bool, initial: None, role: Temporary variable to hold the execute input value.", "22. name: tempSetTimeZoneDone, type: Bool, initial: None, role: Temporary variable to hold the done status of the SET_TIMEZONE instruction.", "23. name: tempSetTimeZoneBusy, type: Bool, initial: None, role: Temporary variable to hold the busy status of the SET_TIMEZONE instruction.", "24. name: tempSetTimeZoneError, type: Bool, initial: None, role: Temporary variable to hold the error status of the SET_TIMEZONE instruction.", "25. name: tempSetTimeZoneStatus, type: Word, initial: None, role: Temporary variable to hold the status of the SET_TIMEZONE instruction.", "26. name: tempResultSetTime, type: Word, initial: None, role: Temporary variable to hold the result of setting the time.", "27. name: FB_STATE_NO_PROCESSING, type: DInt, initial: 0, role: Represents the state where no processing is done.", "28. name: FB_STATE_SET_TIME, type: DInt, initial: 1, role: Represents the state where time is being set.", "29. name: FB_STATE_SET_TIMEZONE, type: DInt, initial: 2, role: Represents the state where the time zone is being set.", "30. name: STATUS_EXECUTION_FINISHED_NO_ERROR, type: Word, initial: 16#0000, role: Status code indicating successful execution.", "31. name: STATUS_NO_CALL, type: Word, initial: 16#7000, role: Status code indicating no function call has been made.", "32. name: STATUS_FIRST_CALL, type: Word, initial: 16#7001, role: Status code indicating the first call of the function block.", "33. name: STATUS_SUBSEQUENT_CALL, type: Word, initial: 16#7002, role: Status code indicating subsequent calls of the function block.", "34. name: ERR_UNDEFINED_STATE, type: Word, initial: 16#8600, role: Error code indicating an undefined state has been reached.", "35. name: ERR_WRONG_TIMEZONE, type: Word, initial: 16#8601, role: Error code indicating an invalid time zone.", "36. name: ERR_SET_TIME_LOCAL, type: Word, initial: 16#8201, role: Error code indicating a failure to set local time.", "37. name: ERR_SET_TIME_UTC, type: Word, initial: 16#8202, role: Error code indicating a failure to set UTC time.", "38. name: ERR_SET_TIMEZONE, type: Word, initial: 16#8203, role: Error code indicating a failure to set the time zone.", "39. name: UTC_MINUS_1200, type: Int, initial: -1200, role: Time zone offset for UTC-12:00.", "40. name: UTC_MINUS_1100, type: Int, initial: -1100, role: Time zone offset for UTC-11:00.", "41. name: UTC_MINUS_1000, type: Int, initial: -1000, role: Time zone offset for UTC-10:00.", "42. name: UTC_MINUS_0930, type: Int, initial: -930, role: Time zone offset for UTC-09:30.", "43. name: UTC_MINUS_0900, type: Int, initial: -900, role: Time zone offset for UTC-09:00.", "44. name: UTC_MINUS_0800, type: Int, initial: -800, role: Time zone offset for UTC-08:00.", "45. name: UTC_MINUS_0700, type: Int, initial: -700, role: Time zone offset for UTC-07:00.", "46. name: UTC_MINUS_0600, type: Int, initial: -600, role: Time zone offset for UTC-06:00.", "47. name: UTC_MINUS_0500, type: Int, initial: -500, role: Time zone offset for UTC-05:00.", "48. name: UTC_MINUS_0400, type: Int, initial: -400, role: Time zone offset for UTC-04:00.", "49. name: UTC_MINUS_0330, type: Int, initial: -0330, role: Time zone offset for UTC-03:30.", "50. name: UTC_MINUS_0300, type: Int, initial: -300, role: Time zone offset for UTC-03:00.", "51. name: UTC_MINUS_0200, type: Int, initial: -200, role: Time zone offset for UTC-02:00.", "52. name: UTC_MINUS_0100, type: Int, initial: -100, role: Time zone offset for UTC-01:00.", "53. name: UTC_0, type: Int, initial: 0, role: Time zone offset for UTC.", "54. name: UTC_100, type: Int, initial: 100, role: Time zone offset for UTC+01:00.", "55. name: UTC_200, type: Int, initial: 200, role: Time zone offset for UTC+02:00.", "56. name: UTC_300, type: Int, initial: 300, role: Time zone offset for UTC+03:00.", "57. name: UTC_330, type: Int, initial: 330, role: Time zone offset for UTC+03:30.", "58. name: UTC_400, type: Int, initial: 400, role: Time zone offset for UTC+04:00.", "59. name: UTC_430, type: Int, initial: 430, role: Time zone offset for UTC+04:30.", "60. name: UTC_500, type: Int, initial: 500, role: Time zone offset for UTC+05:00.", "61. name: UTC_530, type: Int, initial: 530, role: Time zone offset for UTC+05:30.", "62. name: UTC_545, type: Int, initial: 545, role: Time zone offset for UTC+05:45.", "63. name: UTC_600, type: Int, initial: 600, role: Time zone offset for UTC+06:00.", "64. name: UTC_630, type: Int, initial: 630, role: Time zone offset for UTC+06:30.", "65. name: UTC_700, type: Int, initial: 700, role: Time zone offset for UTC+07:00.", "66. name: UTC_800, type: Int, initial: 800, role: Time zone offset for UTC+08:00.", "67. name: UTC_830, type: Int, initial: 830, role: Time zone offset for UTC+08:30.", "68. name: UTC_845, type: Int, initial: 845, role: Time zone offset for UTC+08:45.", "69. name: UTC_900, type: Int, initial: 900, role: Time zone offset for UTC+09:00.", "70. name: UTC_930, type: Int, initial: 930, role: Time zone offset for UTC+09:30.", "71. name: UTC_1000, type: Int, initial: 1000, role: Time zone offset for UTC+10:00.", "72. name: UTC_1030, type: Int, initial: 1030, role: Time zone offset for UTC+10:30.", "73. name: UTC_1100, type: Int, initial: 1100, role: Time zone offset for UTC+11:00.", "74. name: UTC_1200, type: Int, initial: 1200, role: Time zone offset for UTC+12:00.", "75. name: UTC_1245, type: Int, initial: 1245, role: Time zone offset for UTC+12:45.", "76. name: UTC_1300, type: Int, initial: 1300, role: Time zone offset for UTC+13:00.", "77. name: UTC_1400, type: Int, initial: 1400, role: Time zone offset for UTC+14:00.", "78. name: DAYLIGHT_BIAS_ON, type: Int, initial: 60, role: Bias value for daylight saving time when active.", "79. name: DAYLIGHT_BIAS_OFF, type: Int, initial: 0, role: Bias value for daylight saving time when inactive."], "instructions": ["WR_LOC_T", "WR_SYS_T", "SET_TIMEZONE", "INT_TO_WORD"], "planning": "Step1. Check if the execute input has a rising edge and the function block is not already processing. If true, initialize the function block and set the state to #FB_STATE_SET_TIME.\nStep2. Determine the time zone bias and name based on the input timeZone.\nStep3. Set the daylight saving time bias based on the input isDaylightSavingTime.\nStep4. Call the SET_TIMEZONE instruction to set the time zone with the determined values.\nStep5. Depending on the current state, either set the local time or UTC time using the WR_LOC_T or WR_SYS_T instructions respectively.\nStep6. Check the result of the time setting and update the status accordingly.\nStep7. If the time setting is successful, transition to the #FB_STATE_SET_TIMEZONE state.\nStep8. In the #FB_STATE_SET_TIMEZONE state, call the SET_TIMEZONE instruction again to confirm the time zone setting.\nStep9. If the time zone setting is successful, set the status to #STATUS_EXECUTION_FINISHED_NO_ERROR.\nStep10. If the time zone setting fails, set the error status and transition to the #FB_STATE_NO_PROCESSING state.\nStep11. Update the output signals based on the internal status variables.\nStep12. If the function block is not processing and there are no errors, set the done and busy outputs to FALSE and update the status to #STATUS_NO_CALL.\nStep13. If there is an error, set the error output to TRUE and transition to the #FB_STATE_NO_PROCESSING state.\nStep14. If the execute input is FALSE and the function block is done or in error state, reset the outputs and status to default values.\nStep15. Write the last set time zone to the lastSetTimeZone output.\nStep16. The ENO output is forced to TRUE as error handling is done with the error and status outputs.", "name": "LGF_SetTime"}