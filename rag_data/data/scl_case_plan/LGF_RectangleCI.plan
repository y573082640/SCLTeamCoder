{"variables": ["1. name: amplitude, type: Real, initial: 1.0, role: The peak level of the rectangular signal.", "2. name: offset, type: Real, initial: 0.0, role: The baseline level of the rectangular signal.", "3. name: periode, type: UDInt, initial: 1000, role: The period of the rectangular signal in milliseconds.", "4. name: phaseShift, type: Real, initial: 0.0, role: The shift in the phase of the rectangular signal.", "5. name: callOB, type: OB_CYCLIC, initial: None, role: The cyclic interrupt OB that is calling this function.", "6. name: reset, type: Bool, initial: FALSE, role: A boolean to reset the signal generator.", "7. name: value, type: Real, initial: None, role: The current value of the rectangular signal output.", "8. name: error, type: Bool, initial: FALSE, role: Indicates whether an error has occurred.", "9. name: status, type: Word, initial: 16#0, role: Provides the status of the function block.", "10. name: subFunctionStatus, type: Word, initial: 16#0, role: Provides the status or return value of called function blocks, function calls, and system blocks.", "11. name: statCounter, type: UDInt, initial: None, role: A counter that tracks the number of milliseconds elapsed since the last reset.", "12. name: tempCycleTime, type: UDInt, initial: None, role: Temp variable to store the cycle time of the cyclic interrupt OB.", "13. name: tempCyclePhase, type: UDInt, initial: None, role: Temp variable to store the phase of the cyclic interrupt OB.", "14. name: tempCycleStatus, type: Word, initial: None, role: Temp variable to store the status of the cyclic interrupt OB.", "15. name: tempReadTimeStatus, type: Int, initial: None, role: Temp variable to store the status of the QRY_CINT instruction.", "16. name: tempValue, type: Real, initial: None, role: Temp variable used in the calculation of the output signal value.", "17. name: tempPhaseShift, type: UDInt, initial: None, role: Temp variable to store the phase shift as an unsigned integer.", "18. name: SECOND_IN_MS, type: UDInt, initial: 1000, role: Constant representing the number of milliseconds in one second.", "19. name: ZERO, type: Int, initial: 0, role: Constant representing the integer value zero.", "20. name: RATIO, type: UDInt, initial: 2, role: Constant used in the calculation of the rectangular signal's high and low phases.", "21. name: SUB_STATUS_NO_ERROR, type: Word, initial: 16#0000, role: Constant representing the status code for no error.", "22. name: STATUS_FINISHED_NO_ERROR, type: Word, initial: 16#0000, role: Constant representing the status code for successful completion without error.", "23. name: QRY_CINT_OB_UNAVAILABLE, type: Word, initial: 16#0000, role: Constant representing the status code for an unavailable cyclic interrupt OB.", "24. name: ERR_OB_UNAVAILABLE, type: Word, initial: 16#8600, role: Constant representing the error code for an unavailable cyclic interrupt OB.", "25. name: ERR_QRY_CINT, type: Word, initial: 16#8601, role: Constant representing the error code for a failure in the QRY_CINT instruction."], "instructions": ["QRY_CINT", "INT_TO_WORD", "REAL_TO_UDINT", "MOD"], "planning": "Step1. Initialize the function block input and output variables, including the amplitude, offset, period, phase shift, and other necessary parameters.\nStep2. Query the cycle time and phase of the calling cyclic interrupt OB using the QRY_CINT instruction.\nStep3. Handle errors from the QRY_CINT instruction by setting the error flag, status, and subFunctionStatus accordingly.\nStep4. If reset is true, reset the signal generator by setting the statCounter to the phaseShift and tempValue to zero.\nStep5. If reset is false, increment the statCounter based on the cycle time and calculate the tempValue of the rectangular signal based on the current counter value and phase shift.\nStep6. Assign the calculated tempValue to the output value, clear the error flag, and set the status to indicate successful completion.\nStep7. The ENO mechanism is not used; it is forced to true, indicating the function block execution is complete.", "name": "LGF_RectangleCI"}