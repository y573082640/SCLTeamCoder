{"title": "DTL to UNIX Time Converter", "name": "LGF_DTLToUnixTime", "description": "This function converts the date and time of data type DTL to the UNIX time of data type DInt. The timestamp is calculated in UTC.", "type": "FUNCTION", "input": [{"name": "timeDTL", "type": "DTL", "description": "Date and time as DTL to convert to UNIX time"}], "output": [{"name": "error", "type": "Bool", "description": "An error occurred during the execution of the FB"}, {"name": "status", "type": "Word", "description": "Status of the FB, Error identification"}], "in/out": [], "return_value": [{"type": "DInt", "description": "Converted UNIX time"}], "status_codes": {"16#0000": "STATUS_EXECUTION_FINISHED_NO_ERROR", "16#8000": "ERR_TIME_BEFORE_1990", "16#8001": "ERR_DTL_INPUT_VALUE_INVALID"}, "user_defined_types": [], "description_zh": "\n函数 \"LGF_DTLToUnixTime\" 用于将 DTL 类型的日期和时间转换为 DInt 类型的 UNIX 时间。该时间戳是基于 UTC 计算的，不考虑时区。此函数只能处理 1990 年 1 月 1 日之后的时间。\n\n输入参数：\n- timeDTL (DTL): 需要转换为 UNIX 时间戳的日期和时间，以 DTL 类型表示。\n\n输出参数：\n- error (Bool): 执行函数时是否发生错误。\n- status (Word): 函数的状态，用于错误识别。\n\n返回值：\n- item (DInt): 转换后的 UNIX 时间戳。\n\n状态码：\n- 16#0000: 函数执行完成，没有错误。\n- 16#8000: 输入时间早于 1990 年。\n- 16#8001: 输入的 DTL 值无效。\n\n函数首先检查输入的 DTL 值是否有有效的格式和数据。如果有错误，函数将返回 0，并设置错误标志和状态码。\n\n然后，函数检查输入时间是否早于 1990 年 1 月 1 日。如果是，函数再次返回 0，并设置错误标志和状态码。\n\n如果输入时间有效，函数将使用 DATE_TO_DINT 和 TOD_TO_DINT 函数将日期和时间转换为 UNIX 时间戳。这个时间戳是从 1970 年 1 月 1 日以来的秒数。函数还需要加上一个偏移量，因为 DATE_TO_DINT 函数是基于 1990 年 1 月 1 日的。\n\n最后，函数返回转换后的 UNIX 时间戳，并设置错误标志和状态码为没有错误。\n\n\n\n"}