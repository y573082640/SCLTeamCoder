{"title": "Moving Average Calculation Function Block", "name": "LGF_FloatingAverage", "description": "This function calculates a moving arithmetic mean value from REAL values.", "type": "FUNCTION_BLOCK", "input": [{"name": "cyclicExecution", "type": "Bool", "description": "TRUE: cyclic operation, trigger not in use"}, {"name": "trigger", "type": "Bool", "description": "Read in `value` with every pulse at input `trigger`"}, {"name": "value", "type": "LReal", "description": "Value/s from which the moving average is to be determined."}, {"name": "windowSize", "type": "Int", "description": "Window length for sliding averaging in the range from 1..100. The standard value is 100."}, {"name": "reset", "type": "Bool", "description": "TRUE: The block is reset and the calculation starts again."}], "output": [{"name": "average", "type": "LReal", "description": "Moving / Floating average"}, {"name": "windowSizeReached", "type": "Bool", "description": "FALSE: Maximum window width not yet reached, TRUE: Maximum window width reached"}, {"name": "error", "type": "Bool", "description": "FALSE: No error, TRUE: An error occurred during the execution of the FB"}, {"name": "status", "type": "Word", "description": "Status of the FB and error identification."}], "in/out": [], "return_value": [], "status_codes": {"16#0000": "STATUS_FINISHED_NO_ERROR: Execution finished without errors", "16#8200": "ERR_WRONG_WINDOW_SIZE: Incorrect window size/width set."}, "user_defined_types": [], "description_zh": "\n这是一个函数块FB，用于计算一系列REAL类型数值的移动平均值。它支持以下功能：\\n\\n1. 循环执行或触发执行：可以选择在每次循环扫描时自动更新平均值，或者在每次接收到触发信号时更新平均值。\\n2. 窗口大小设置：可以设置移动平均值的窗口大小，即参与平均值计算的最近数值的个数。窗口大小范围从1到100，默认值为100。\\n3. 重置功能：可以通过输入信号重置函数块，清空之前的数值并重新开始计算平均值。\\n\\n该函数块维护一个内部数组来存储最近接收到的数值，并根据窗口大小计算平均值。当窗口大小达到最大值时，会输出一个信号表示窗口已满。如果输入的窗口大小不正确，函数块会报错并输出错误状态。\\n\\n示例：\\n假设输入的数值为1.0, 2.0, 3.0, 4.0，窗口大小设置为4。\\n则输出的平均值为(1.0 + 2.0 + 3.0 + 4.0) / 4 = 2.5。\n\n\n"}