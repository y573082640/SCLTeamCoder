{"title": "Function Curve Area Calculator", "name": "LGF_Integration", "description": "The function approximately calculates the area under a function curve.", "type": "FUNCTION_BLOCK", "input": [{"name": "enable", "type": "Bool", "description": "Enables integral calculation"}, {"name": "value", "type": "LReal", "description": "Analog value of the continuous function curve, based on [ms]"}, {"name": "reset", "type": "Bool", "description": "Sets the output 'integral' to '0.0'"}], "output": [{"name": "integral", "type": "LReal", "description": "Integral value"}, {"name": "error", "type": "Bool", "description": "Error flag"}, {"name": "status", "type": "Word", "description": "Status code"}, {"name": "subfunctionStatus", "type": "Word", "description": "Status or return value of called blocks"}], "in/out": [], "return_value": [], "status_codes": {"16#0000": "STATUS_EXECUTION_FINISHED_NO_ERROR", "16#8600": "ERR_READ_SYS_TIME"}, "user_defined_types": [], "description_zh": "\n该函数块FB用于计算函数曲线下的近似面积，即对输入的模拟值进行积分计算。它使用梯形法则来进行数值积分，这是一种常见的数值积分方法，通过将曲线下的区域分成许多小梯形来逼近整个区域的面积。\n\n函数块接受以下输入：\n- enable (Bool): 启用积分计算。\n- value (LReal): 作为连续函数曲线的模拟值，基于毫秒(ms)。\n- reset (Bool): 将输出'integral'设置为'0.0'。\n\n函数块提供以下输出：\n- integral (LReal): 积分值。\n- error (Bool): 错误标志。\n- status (Word): 状态码。\n- subfunctionStatus (Word): 被调用块的状态或返回值。\n\n当enable输入为真时，函数块会读取当前系统时间，并计算自上次读取时间以来的时间差。然后，它使用梯形法则计算这段时间内曲线下的面积，并将此面积添加到积分值中。当reset输入为真时，函数块会将积分值重置为0.0，并将上次时间设置为初始时间，以便下次启用时从0开始计算。\n\n函数块还包含错误处理逻辑，用于处理读取系统时间时可能出现的错误。如果发生错误，函数块会设置错误标志，并提供相应的状态码和子功能状态码。\n\n状态码：\n- 16#0000: STATUS_EXECUTION_FINISHED_NO_ERROR，表示执行完成且没有错误。\n- 16#8600: ERR_READ_SYS_TIME，表示读取系统时间时出错。\n\n用户定义类型：\n无。\n\n\n"}