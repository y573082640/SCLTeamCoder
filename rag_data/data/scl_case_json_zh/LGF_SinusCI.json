{"title": "Sinusoidal Signal Generator", "name": "LGF_SinusCI", "description": "This function generates a sinusoidal signal profile. For this it uses the time interval of the calling Cyclic Interrupt OB.", "type": "FUNCTION_BLOCK", "input": [{"name": "amplitude", "type": "Real", "description": "1.0"}, {"name": "offset", "type": "Real", "description": "0.0"}, {"name": "periode", "type": "UDInt", "description": "1000"}, {"name": "phaseShift", "type": "Real", "description": "0.0"}, {"name": "callOB", "type": "OB_CYCLIC", "description": ""}, {"name": "reset", "type": "Bool", "description": "FALSE"}], "output": [{"name": "value", "type": "Real", "description": "Current value of the sinusoidal signal."}, {"name": "error", "type": "Bool", "description": "FALSE: No error"}, {"name": "status", "type": "Word", "description": "16#0000-16#7FFF: Status of the FB 16#8000-16#FFFF: Error identification"}, {"name": "subFunctionStatus", "type": "Word", "description": "Status or return value of called FB's, FC's and system blocks"}], "in/out": [], "return_value": [], "status_codes": {"16#0000": "STATUS_FINISHED_NO_ERROR", "16#8600": "ERR_OB_UNAVAILABLE", "16#8601": "ERR_QRY_CINT"}, "user_defined_types": [], "description_zh": "\n该函数块FB用于生成一个正弦信号波形。它利用调用它的循环中断组织块（OB）的时间间隔来计算输出值。函数块接受以下输入参数：振幅（amplitude，默认为1.0），偏移量（offset，默认为0.0），周期（periode，默认为1000毫秒），相位偏移（phaseShift，默认为0.0），调用的循环中断OB（callOB），以及一个重置信号（reset，默认为FALSE）。\n\n函数块的输出包括：当前的正弦信号值（value），一个错误标志（error），表示是否发生错误，状态字（status），用于指示函数块的状态或错误识别，以及子函数状态字（subFunctionStatus），用于指示调用子函数的状态或返回值。\n\n在函数块的内部，使用了一个静态变量statCounter来跟踪自上次重置以来的时间流逝，并将其转换为弧度（statRad）。通过将statCounter除以周期（periode）并将其乘以2π（TWO_PI），可以得到当前时间的弧度表示。然后，使用SIN函数来计算正弦值，并将其乘以振幅（amplitude）加上偏移量（offset）来得到最终的输出值（value）。\n\n如果重置信号（reset）为TRUE，则statCounter将被重置为0，输出值（value）将被设置为0。在每次调用循环中断OB时，statCounter都会根据采样时间（tempCycleTime）递增，并且如果它超过了周期（periode），则会被模运算重置。\n\n函数块还包括错误处理逻辑，用于处理查询循环中断OB时可能出现的错误。如果QRY_CINT函数返回错误，则错误标志（error）将被设置为TRUE，状态字（status）将被设置为ERR_QRY_CINT，子函数状态字（subFunctionStatus）将被设置为QRY_CINT函数的错误代码。如果OB不可用，则错误标志（error）将被设置为TRUE，状态字（status）将被设置为ERR_OB_UNAVAILABLE。\n\nENO机制在该函数块中未使用，因此被强制设置为TRUE。\n\n\n"}