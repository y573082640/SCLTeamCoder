{"title": "Cosine Signal Generator", "name": "LGF_CosinusCI", "description": "This function generates a cosinusoidal signal profile. For this it uses the time interval of the calling Cyclic Interrupt OB.", "type": "FUNCTION_BLOCK", "input": [{"name": "amplitude", "type": "Real", "description": "1.0"}, {"name": "offset", "type": "Real", "description": "0.0"}, {"name": "periode", "type": "UDInt", "description": "1000"}, {"name": "phaseShift", "type": "Real", "description": "0.0"}, {"name": "callOB", "type": "OB_CYCLIC", "description": ""}, {"name": "reset", "type": "Bool", "description": "FALSE"}], "output": [{"name": "value", "type": "Real", "description": "Current value of the cosinusoidal signal."}, {"name": "error", "type": "Bool", "description": "FALSE: No error"}, {"name": "status", "type": "Word", "description": "16#0000-16#7FFF: Status of the FB 16#8000-16#FFFF: Error identification"}, {"name": "subFunctionStatus", "type": "Word", "description": "Status or return value of called FB's, FC's and system blocks"}], "in/out": [], "return_value": [], "status_codes": {"16#0000": "STATUS_FINISHED_NO_ERROR", "16#8600": "ERR_OB_UNAVAILABLE", "16#8601": "ERR_QRY_CINT"}, "user_defined_types": [], "description_zh": "\n该函数块FB的功能是生成一个余弦波形信号。为了生成波形，它使用调用它的周期性中断OB的时间间隔作为基础。以下是对案例代码的中文描述：\n\n输入参数包括：\n- amplitude（振幅）：余弦波形的振幅，默认值为1.0。\n- offset（偏移量）：余弦波形的垂直偏移量，默认值为0.0。\n- periode（周期）：余弦波形的周期，单位为毫秒，默认值为1000。\n- phaseShift（相位偏移）：余弦波形的水平偏移量（相位），默认值为0.0。\n- callOB（调用OB）：调用该函数块的周期性中断OB。\n- reset（重置）：一个布尔值，用于重置余弦波形的生成状态，默认值为FALSE。\n\n输出参数包括：\n- value（值）：当前余弦波形的值。\n- error（错误）：布尔值，指示是否发生错误。\n- status（状态）：状态码，指示函数块的执行状态或错误信息。\n\n函数块内部使用以下变量：\n- statRad（弧度）：计算得到的当前角度的弧度值。\n- statPhaseShift（相位偏移）：计算得到的相位偏移的弧度值。\n- statCounter（计数器）：用于跟踪当前角度的计数器。\n\n在函数块的执行过程中，首先获取周期性中断OB的采样时间。如果获取失败，则会设置错误标志并返回错误状态。如果获取成功，则根据采样时间和周期计算当前角度的弧度值，并加上相位偏移。然后使用余弦函数计算当前角度的余弦值，乘以振幅并加上偏移量，得到最终的输出值。如果重置输入为TRUE，则会重置计数器和输出值。\n\n在函数块的最后，设置输出参数，包括余弦波形的值、错误标志、状态码和子函数状态码。ENO机制被禁用，强制设置为TRUE。\n\n状态码包括：\n- 16#0000：STATUS_FINISHED_NO_ERROR，表示函数块执行完成且没有错误。\n- 16#8600：ERR_OB_UNAVAILABLE，表示OB不可用。\n- 16#8601：ERR_QRY_CINT，表示在获取采样时间时发生错误。\n\n\n"}