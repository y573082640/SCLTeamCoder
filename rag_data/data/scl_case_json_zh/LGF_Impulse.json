{"title": "Pulse Generator", "name": "LGF_Impulse", "description": "This function generates pulses at a given frequency. The pulse is always present for one (control) cycle.", "type": "FUNCTION_BLOCK", "input": [{"name": "frequency", "type": "Real", "description": "0.0"}], "output": [{"name": "impulse", "type": "Bool", "description": "Impulse signal output"}, {"name": "countdown", "type": "Time", "description": "Time until next pulse"}], "in/out": [], "return_value": [], "status_codes": {}, "user_defined_types": [], "description_zh": "\n该函数块FB的功能是根据输入的频率生成脉冲信号。脉冲信号在每个控制周期内保持一个周期的高电平。输入参数为频率（Real类型），输出参数为脉冲信号（impulse，Bool类型）和下一次脉冲的时间倒计时（countdown，Time类型）。\n\n在函数块的执行过程中，首先检查输入的频率是否小于或等于0.0。如果是，则脉冲信号输出为FALSE，时间倒计时为0，即不产生脉冲。如果输入频率大于0.0，则根据输入的频率计算脉冲周期（statTimePulse），并根据计算出的周期产生脉冲信号和时间倒计时。\n\n计算脉冲周期时，首先检查输入的频率是否发生变化。如果频率发生变化，则重新计算脉冲周期。脉冲周期的计算公式为：1000秒 / (频率 * 1000)。计算出的周期值赋给statTimePulse，并将输入的频率值赋给statFrequencyOld，以便下次比较。\n\n接下来，使用一个自启动定时器（TOF_TIME），其定时时间为计算出的脉冲周期（statTimePulse）。定时器的输出信号取反后作为脉冲信号输出（tempImpulse）。同时，计算时间倒计时（tempCountdown），即当前定时器的剩余时间。\n\n最后，将计算出的脉冲信号和时间倒计时赋给输出参数impulse和countdown。ENO机制未使用，强制设置为TRUE。\n\n\n"}