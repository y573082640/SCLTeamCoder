{"title": "Simple Smoothing Function", "name": "LGF_SimpleSmoothingFC", "description": "The function calculates the linear mean value acyclically.", "type": "FUNCTION", "input": [], "output": [{"name": "error", "type": "Bool", "description": "FALSE: No error TRUE: An error occurred during the execution of the FB"}, {"name": "status", "type": "Word", "description": "Status of the FB"}], "in/out": [{"name": "values", "type": "Array[*] of LReal", "description": "Values that are to be included in the smoothing."}, {"name": "smoothedValues", "type": "Array[*] of LReal", "description": "The smoothed values."}], "return_value": [{"type": "Void", "description": "Void - Function has no return value"}], "status_codes": {"16#0000": "STATUS_FINISHED_NO_ERROR", "16#8400": "ERR_NOT_ENOUGH_VALUES Error: Not enough values.", "16#8401": "ERR_ARRAY_DIFFERENT Error: The Arraysizes are not equal."}, "user_defined_types": [], "description_zh": "\n该函数功能是计算一组数值的线性平均值，以实现数据的平滑处理。函数接受两个数组作为输入/输出参数：values 数组包含待平滑处理的原数值，smoothedValues 数组用于存储平滑后的结果。函数会遍历 values 数组，对每个元素（除了第一个和最后一个）计算其与前后两个元素的平均值，并将计算结果存储在 smoothedValues 数组的对应位置。\n\n在执行平滑处理之前，函数会进行两项检查：\n1. 检查输入数组 values 和输出数组 smoothedValues 的长度是否相等。如果长度不一致，则设置错误标志 error 为真，状态码 status 为 ERR_ARRAY_DIFFERENT，并结束函数执行。\n2. 检查输入数组 values 的长度是否足够进行平滑处理。函数要求数组长度至少为 3，因为需要每个元素都有前后的元素来计算平均值。如果数组长度不足，则设置错误标志 error 为真，状态码 status 为 ERR_NOT_ENOUGH_VALUES，并结束函数执行。\n\n如果两项检查都通过，函数会执行平滑处理，即对每个元素（除了第一个和最后一个）计算其与前后两个元素的平均值，并将计算结果存储在 smoothedValues 数组的对应位置。计算公式为：smoothedValues[n] = (values[n-1] + values[n] + values[n+1]) / 3。最后，函数设置错误标志 error 为假，状态码 status 为 STATUS_FINISHED_NO_ERROR，表示平滑处理完成且没有错误发生。\n\n\n"}