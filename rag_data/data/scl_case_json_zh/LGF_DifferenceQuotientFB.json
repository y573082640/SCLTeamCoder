{"title": "Numeric Differentiation Function Block", "name": "LGF_DifferenceQuotientFB", "description": "This function numerically differentiates a signal sampled equidistantly in time.", "type": "FUNCTION_BLOCK", "input": [{"name": "enable", "type": "Bool", "description": "Activates the block."}, {"name": "insert", "type": "Bool", "description": "Accepts the value at the input `value` at positive edge and outputs a `derivatedValue` if five values have been read in."}, {"name": "value", "type": "LReal", "description": "Value that must be included in the differentiation."}, {"name": "deltaT", "type": "LReal", "description": "Equidistant distance between two measured values. (e.g. 1s)"}], "output": [{"name": "derivatedValue", "type": "LReal", "description": "The differentiated value."}, {"name": "error", "type": "Bool", "description": "FALSE: No error, TRUE: An error occurred during the execution of the FB"}, {"name": "status", "type": "Word", "description": "Status and error identification of the FB"}], "in/out": [], "return_value": [], "status_codes": {"16#7000": "STATUS_NO_CALL: The block waits for activation through the parameter `enable`.", "16#7001": "STATUS_FIRST_CALL: First call of FB after enabling", "16#7002": "STATUS_SUBSEQUENT_CALL: Processing is active. Subsequent call of FB.", "16#7010": "STATUS_NOT_ENOUGH_VALUES: The block requires five (5) values to calculate a differentiated value.", "16#8200": "ERR_DELTA_T: Delta time `deltaT` must not be zero."}, "user_defined_types": [], "description_zh": "\n该SCL函数块实现了对等时间间隔内采样的信号进行数值微分的功能。它接受一个使能信号（enable）和一个插入信号（insert），以及需要微分处理的数值（value）和时间间隔（deltaT）。当使能信号激活时，函数块开始工作。当插入信号上升沿到来时，函数块会读取输入的数值，并在已经读取了五个数值后输出微分的值（derivatedValue）。\n\n函数块内部使用一个数组（statValues）来存储最近读取的五个数值，并根据这些数值和时间间隔计算微分的值。如果时间间隔为零，函数块会报错，并设置错误状态（ERR_DELTA_T）。如果读取的数值数量不足五个，函数块会设置状态为STATUS_NOT_ENOUGH_VALUES。\n\n函数块提供了错误输出（error）和状态输出（status），以供外部诊断使用。错误输出指示函数块执行过程中是否出现错误，状态输出则提供了更详细的错误识别信息。\n\n函数块还提供了一些状态代码常量，用于表示不同的状态，如STATUS_NO_CALL表示函数块等待激活，STATUS_FIRST_CALL表示使能后的第一次调用，STATUS_SUBSEQUENT_CALL表示处理激活后的后续调用，STATUS_NOT_ENOUGH_VALUES表示读取的数值数量不足，ERR_DELTA_T表示时间间隔不能为零。\n\n总之，该函数块通过简单的数值方法实现了信号的微分计算，适用于需要对采样的信号进行动态分析的应用场景。\n\n\n"}