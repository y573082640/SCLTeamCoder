{"title": "Value Tolerance Checker by Time", "name": "LGF_IsValueInToleranceByTime", "description": "Checks if a given value is within a specified tolerance in percent of a given set point.", "type": "FUNCTION_BLOCK", "input": [{"name": "value", "type": "Real", "description": "Value to check if in range of setpoint"}, {"name": "setpoint", "type": "Real", "description": "Setpoint"}, {"name": "lowerMinimum", "type": "Real", "description": "Lower limit/tolerance of the setpoint in percent or absolut"}, {"name": "upperMaximum", "type": "Real", "description": "Upper limit/tolerance of the setpoint in percent or absolut"}, {"name": "reset", "type": "Bool", "description": "Reset Block"}, {"name": "configuration", "type": "LGF_typeIsValueInToleranceByTimeConfiguration", "description": "Module related configuration parameters"}], "output": [{"name": "overHighLimit", "type": "Bool", "description": "TRUE: if value is above high limit"}, {"name": "belowLowLimit", "type": "Bool", "description": "TRUE: if value is below low limit"}, {"name": "inLimits", "type": "Bool", "description": "TRUE: if value is in between the limits"}, {"name": "setpointChange", "type": "Bool", "description": "TRUE: when a setpoint change has been detected"}, {"name": "error", "type": "Bool", "description": "Error occured"}, {"name": "status", "type": "Word", "description": "Status of the function"}], "in/out": [], "return_value": [], "status_codes": {"16#0000": "STATUS_NO_ERROR", "16#8401": "ERR_RANGE_LIMIT_VALUE_CALC", "16#8402": "ERR_SETPOINT_ABOVE_HIGH_LIMIT", "16#8403": "ERR_SETPOINT_BELOW_LOW_LIMIT"}, "user_defined_types": [{"name": "LGF_typeIsValueInToleranceByTimeConfiguration", "description": "Module related configuration parameters", "member": [{"name": "disableLimits", "type": "Bool", "default": "FALSE", "description": "TRUE: Disable the monitoring timer. Leaving the tolerance triggers immediately"}, {"name": "limitsAsAbsoluteValues", "type": "Bool", "default": "FALSE", "description": "TRUE: Limit given as absolut value / FALSE: Limits given as tolerance from setpoint"}, {"name": "toleranceAsAbsoluteValues", "type": "Bool", "default": "FALSE", "description": "TRUE: Toleranze given as absolut value / FALSE: Toleranze in percent from Setpoint"}, {"name": "upperLimitMonitoringTime", "type": "Time", "default": "T#10S", "description": "Monitoring time for the upper limit violation"}, {"name": "lowerLimitMonitoringTime", "type": "Time", "default": "T#10S", "description": "Monitoring time for the lower limit violation"}, {"name": "setpointChangeMonitoringTime", "type": "Time", "default": "T#20S", "description": "Monitoring time for setpoint changes"}]}], "description_zh": "\n该SCL函数块FB \"LGF_IsValueInToleranceByTime\" 用于检查一个给定的值是否在设定点的指定公差范围内。这个功能块接受以下输入参数：\n- value (Real): 需要检查是否在设定点范围内的值。\n- setpoint (Real): 设定点值。\n- lowerMinimum (Real): 设定点下限的公差值（可以是绝对值或百分比）。\n- upperMaximum (Real): 设定点上限的公差值（可以是绝对值或百分比）。\n- reset (Bool): 重置功能块的信号。\n- configuration: 配置参数，包括是否禁用监控定时器、是否使用绝对值作为限制和公差、上限和下限违规的监控时间、设定点变化的监控时间。\n\n函数块的输出参数包括：\n- overHighLimit (Bool): 如果值超出上限，则为TRUE。\n- belowLowLimit (Bool): 如果值低于下限，则为TRUE。\n- inLimits (Bool): 如果值在上下限之间，则为TRUE。\n- setpointChange (Bool): 如果检测到设定点变化，则为TRUE。\n- error (Bool): 如果发生错误，则为TRUE。\n- status (Word): 函数块的状态。\n\n函数块内部使用三个IEC定时器（TON）来实现监控功能：\n- instMonitorUpper: 监控上限违规。\n- instMonitorLower: 监控下限违规。\n- instMonitorChange: 监控设定点变化。\n\n函数块的逻辑流程如下：\n1. 首先计算上下限的值，根据配置参数决定是使用绝对值还是百分比。\n2. 检测设定点是否发生变化，并在发生变化时重置某些状态标志。\n3. 检查提供的值是否超出了上限或下限，并根据配置决定是否启动相应的监控定时器。\n4. 如果值超出了上限或下限，并且监控定时器超时，相应的输出（overHighLimit 或 belowLowLimit）将被置为TRUE。\n5. 如果设定点变化，并且值曾经处于公差范围内，则会触发setpointChange输出。\n6. 最后，根据计算结果和定时器的状态更新输出参数。\n\n这个函数块通过配置参数提供了灵活的公差检查机制，可以应用于各种需要监控过程变量是否在特定公差范围内的场合。\n\n\n"}