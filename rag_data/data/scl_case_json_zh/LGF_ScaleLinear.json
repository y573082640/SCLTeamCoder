{"title": "Linear Scaler for Input Variable", "name": "LGF_ScaleLinear", "description": "This function scales an input variable (LReal) via a linear straight-line equation.", "type": "FUNCTION", "input": [{"name": "x", "type": "LReal", "description": "Input value `x` to be scaled"}, {"name": "x1", "type": "LReal", "description": "Point 1 (P1) -`x` coordinate of the linear function"}, {"name": "y1", "type": "LReal", "description": "Point 1 (P1) -`y` coordinate of the linear function"}, {"name": "x2", "type": "LReal", "description": "Point 2 (P2) -`x` coordinate of the linear function"}, {"name": "y2", "type": "LReal", "description": "Point 2 (P2) -`y` coordinate of the linear function"}, {"name": "yMin", "type": "LReal", "description": "Lower limit value of the output"}, {"name": "yMax", "type": "LReal", "description": "High limit value of the output"}], "output": [{"name": "error", "type": "Bool", "description": "Error flag"}, {"name": "status", "type": "Word", "description": "Status code"}], "in/out": [], "return_value": [{"type": "LReal", "description": "Scaled output value `y`"}], "status_codes": {"16#0000": "STATUS_FINISHED_NO_ERROR", "16#6001": "WARN_Y_LIMITED_TO_YMIN", "16#6002": "WARN_Y_LIMITED_TO_YMAX", "16#8200": "ERR_LOW_LIM_OVER_UP_LIM"}, "user_defined_types": [], "description_zh": "\n该函数\"LGF_ScaleLinear\"实现了对输入变量（LReal类型）的线性缩放功能。它通过线性方程式将输入值`x`映射到输出值`y`。函数接受两个点的坐标（`x1`, `y1`和`x2`, `y2`）来确定线性方程的斜率和截距。此外，函数还接受输出`y`的最小值`yMin`和最大值`yMax`，以确保输出值在这个范围内。\n\n函数的逻辑流程如下：\n1. 首先检查输入的最小值`yMin`是否大于最大值`yMax`，如果是，则设置错误标志和状态码，表示输入限制不合理。\n2. 如果没有错误，则执行缩放算法。如果`x1`和`x2`之间的差异非常小（小于一个预设的精度值），则认为斜率接近于零，此时使用一个特殊的方程`x = y1`来计算输出值。\n3. 如果`x1`和`x2`之间的差异足够大，则使用标准的线性方程`y = m*x + t`来计算输出值，其中`m`是斜率，`t`是截距。\n4. 计算出输出值后，检查是否超过了设定的最小值或最大值。如果超过了，则将输出值限制在`yMin`或`yMax`，并设置相应的警告状态码。\n5. 最后，将计算出的输出值`tempY`返回，并设置状态码和错误标志。\n\n函数的输出包括：\n- `error`：错误标志，表示是否发生了错误。\n- `status`：状态码，提供了关于函数执行状态的详细信息。\n\n状态码定义如下：\n- 16#0000：STATUS_FINISHED_NO_ERROR，表示函数执行没有错误。\n- 16#6001：WARN_Y_LIMITED_TO_YMIN，表示输出值被限制在最小值`yMin`。\n- 16#6002：WARN_Y_LIMITED_TO_YMAX，表示输出值被限制在最大值`yMax`。\n- 16#8200：ERR_LOW_LIM_OVER_UP_LIM，表示输入的最小值`yMin`大于最大值`yMax`，输入限制不合理。\n\n函数\"LGF_ScaleLinear\"通过线性方程将输入值`x`缩放到输出值`y`，同时确保输出值在指定的范围内。\n\n\n"}