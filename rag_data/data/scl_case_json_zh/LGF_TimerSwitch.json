{"title": "Timer with various time switch points", "name": "LGF_TimerSwitch", "description": "This block is a timer. It is possible to define daily, weekly, monthly, yearly time switch points and time switch points for working days or weekend days.", "type": "FUNCTION_BLOCK", "input": [{"name": "onMonth", "type": "USInt", "description": "Month, in which the signal shall be set."}, {"name": "onDay", "type": "USInt", "description": "Day, at which the signal shall be set."}, {"name": "onWeekday", "type": "USInt", "description": "Day of the week on which the signal will be set; Sunday: 1, Monday: 2, Tuesday: 3, ..."}, {"name": "onHour", "type": "USInt", "description": "Hour, at which the signal shall be set."}, {"name": "onMinute", "type": "USInt", "description": "Minute, at which the signal shall be set."}, {"name": "offMonth", "type": "USInt", "description": "Month, in which the signal shall be reset."}, {"name": "offDay", "type": "USInt", "description": "Day, at which the signal shall be reset."}, {"name": "offWeekday", "type": "USInt", "description": "Day of the week on which the signal will be reset; Sunday: 1, Monday: 2, Tuesday: 3, ..."}, {"name": "offHour", "type": "USInt", "description": "Hour, at which the signal shall be reset."}, {"name": "offMinute", "type": "USInt", "description": "Minute, at which the signal shall be reset."}, {"name": "mode", "type": "USInt", "description": "Specifies the mode (see Principle of operation)"}], "output": [{"name": "signal", "type": "Bool", "description": "Output signal"}, {"name": "actLocalTime", "type": "DTL", "description": "Current local time"}, {"name": "error", "type": "Bool", "description": "FALSE: No error / TRUE: An error occurred during the execution of the FB"}, {"name": "status", "type": "Word", "description": "16#0000-16#7FFF: Status of the FB / 16#8000-16#FFFF: Error identification"}, {"name": "subFunctionStatus", "type": "Word", "description": "Sub function status code"}], "in/out": [], "return_value": [], "status_codes": {"16#0000": "STATUS_NO_ERROR", "16#8200": "ERR_NO_MODE_SELECTED", "16#8600": "ERR_RD_LOC_T"}, "user_defined_types": [], "description_zh": "\n该函数块（FB）实现了一个定时器功能，可以根据不同的时间点进行设置和重置，这些时间点可以是每日、每周、每月、每年，或者是工作日和周末。定时器可以设定在特定的时间点开启或关闭一个信号。\n\n输入参数包括：\n- onMonth：信号设置的月份。\n- onDay：信号设置的日期。\n- onWeekday：信号设置的工作日（星期几）。\n- onHour：信号设置的小时。\n- onMinute：信号设置的分钟。\n- offMonth：信号重置的月份。\n- offDay：信号重置的日期。\n- offWeekday：信号重置的工作日（星期几）。\n- offHour：信号重置的小时。\n- offMinute：信号重置的分钟。\n- mode：指定定时器的工作模式（例如每日、每周、每月等）。\n\n输出参数包括：\n- signal：输出信号。\n- actLocalTime：当前本地时间。\n- error：错误指示器。\n- status：状态码。\n- subFunctionStatus：子功能状态码。\n\n函数块内部使用了一个临时变量来存储当前时间，并根据输入的模式参数来计算开启和关闭信号的时间点。定时器逻辑会检查当前时间是否处于开启和关闭时间点之间，并相应地设置输出信号。\n\n函数块还包含了初始化区域，用于将输入的时间参数转换为内部使用的时间格式，并读取本地时间。如果读取本地时间出现错误，函数块会设置错误指示器并返回错误状态码。\n\n最后，函数块将计算得到的信号状态输出，并确保没有错误发生。\n\n\n"}