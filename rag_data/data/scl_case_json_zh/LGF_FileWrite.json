{"title": "File Writing to UserFiles Folder", "name": "LGF_FileWrite", "description": "This function block offers writing data as binary / serialized data stream to a file which is then stored on the PLC's memory card in the folder UserFiles.", "type": "FUNCTION_BLOCK", "input": [{"name": "execute", "type": "Bool", "description": "Rising edge starts file write once"}, {"name": "fileName", "type": "String", "description": "Name of file including path: UserFiles/test.dat"}], "output": [{"name": "done", "type": "Bool", "description": "Commanded functionality has been completed successfully"}, {"name": "busy", "type": "Bool", "description": "FB is not finished and new output values can be expected"}, {"name": "error", "type": "Bool", "description": "An error occurred during the execution of the FB"}, {"name": "status", "type": "Word", "description": "Status of the FB, Error identification"}, {"name": "dataLength", "type": "DInt", "description": "Data length written to file (serialized length of data)"}], "in/out": [{"name": "bufferByteArray", "type": "Array[*] of Byte", "description": "Byte array buffer for read / write from / to file"}, {"name": "data", "type": "Variant", "description": "Data set to write into file"}], "return_value": [], "status_codes": {"16#0000": "STATUS_EXECUTION_FINISHED", "16#7000": "STATUS_NO_CALL", "16#7001": "STATUS_FIRST_CALL", "16#7002": "STATUS_SUBSEQUENT_CALL", "16#8201": "ERR_BUFFER_LOWERBOUND", "16#8202": "ERR_BUFFER_ARRAY_TO_SMALL_TO_COPY", "16#8401": "ERR_FILE_PATH", "16#8600": "ERR_UNDEFINED_STATE", "16#8601": "ERR_MOVE_BLK_VARIANT", "16#8603": "ERR_DATA_SERIALIZE", "16#8604": "ERR_FILE_WRITE_INIT", "16#8605": "ERR_FILE_WRITE"}, "user_defined_types": [{"name": "LGF_typeDiagnostics", "description": "Diagnostic structure to store and transfer diagnostic information from blocks trough the interface.", "member": [{"name": "status", "type": "Word", "default": "16#0000", "description": "Status of the Block or error identification when error occurred"}, {"name": "subfunctionStatus", "type": "Word", "default": "16#0000", "description": "Status or return value of called FB's, FC's and system blocks"}, {"name": "stateNumber", "type": "DInt", "default": "0", "description": "State in the state machine of the block where the error occurred"}]}], "description_zh": "下面是给定任务的需求描述：\n            文件写入到用户文件文件夹\n--------------------------------\n名称: LGF_FileWrite\n类型: FUNCTION_BLOCK\n描述: 该函数块提供将数据作为二进制/序列化数据流写入文件的功能，然后将文件存储在PLC的内存卡中的UserFiles文件夹中。\n输入:\n- execute (Bool): 上升沿开始一次文件写入\n- fileName (String): 文件名，包括路径: UserFiles/test.dat\n\n输出:\n- done (Bool): 命令功能已成功完成\n- busy (Bool): FB未完成，可以预期新的输出值\n- error (Bool): 在执行FB期间发生错误\n- status (Word): FB的状态，错误识别\n- dataLength (DInt): 写入文件的数据长度(数据的序列化长度)\n\n输入/输出:\n- bufferByteArray (Array[*] of Byte): 用于从/向文件读取/写入的字节数组缓冲区\n- data (Variant): 要写入文件的数据集\n\n返回值:\n无\n\n状态代码:\n- 16#0000: STATUS_EXECUTION_FINISHED\n- 16#7000: STATUS_NO_CALL\n- 16#7001: STATUS_FIRST_CALL\n- 16#7002: STATUS_SUBSEQUENT_CALL\n- 16#8201: ERR_BUFFER_LOWERBOUND\n- 16#8202: ERR_BUFFER_ARRAY_TO_SMALL_TO_COPY\n- 16#8401: ERR_FILE_PATH\n- 16#8600: ERR_UNDEFINED_STATE\n- 16#8601: ERR_MOVE_BLK_VARIANT\n- 16#8603: ERR_DATA_SERIALIZE\n- 16#8604: ERR_FILE_WRITE_INIT\n- 16#8605: ERR_FILE_WRITE\n\n用户自定义类型:\n- LGF_typeDiagnostics:\nstatus (Word): 块的状态，或者出错时错误识别\nsubfunctionStatus (Word): 被调用FB's、FC's和系统块的状"}