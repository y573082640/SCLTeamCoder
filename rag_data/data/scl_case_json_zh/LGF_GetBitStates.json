{"title": "Double word edge detection", "name": "LGF_GetBitStates", "description": "This function checks a DWord for falling as well as rising edges. It returns the number of edges, a DWord with the edge bits, and a boolean value if edge(s) are present.", "type": "FUNCTION_BLOCK", "input": [{"name": "value", "type": "DWord", "description": "Check input value for changes and edges"}], "output": [{"name": "hasChanged", "type": "Bool", "description": "Input value has changed (compared to the previous cycle)"}, {"name": "hasRisingEdges", "type": "Bool", "description": "Input value has rising edges"}, {"name": "risingBits", "type": "DWord", "description": "Bitstream with the rising edges"}, {"name": "noOfRisingBits", "type": "USInt", "description": "Number of rising edges in the input value"}, {"name": "hasFallingEdges", "type": "Bool", "description": "Input value has falling edges"}, {"name": "fallingBits", "type": "DWord", "description": "Bitstream with the falling edges"}, {"name": "noOfFallingBits", "type": "USInt", "description": "Number of falling edges in the input value"}], "in/out": [], "return_value": [], "status_codes": {}, "user_defined_types": [], "description_zh": "\n该SCL函数块\"LGF_GetBitStates\"用于检测一个32位双字（DWord）输入值的变化，包括上升沿和下降沿。函数块会输出一个布尔值指示输入值是否发生变化，以及两个布尔值分别指示是否存在上升沿或下降沿。同时，函数块还会输出一个双字，其中包含检测到的上升沿或下降沿的位信息，并返回上升沿和下降沿的数量。\n\n具体实现逻辑如下：\n1. 通过将当前输入值与上一周期的输入值进行位运算，检测出上升沿和下降沿。上升沿通过当前值与上一周期的值的异或（XOR）得到，下降沿通过上一周期的值与当前值的异或得到。\n2. 将检测到的上升沿和下降沿结果存储在临时变量中，用于后续计数。\n3. 使用一个位计数算法来计算临时变量中1的个数，即上升沿和下降沿的数量。这个算法通过对双字进行移位和掩码操作，逐步将每个字节中的1的个数累加起来。\n4. 将计算结果输出到相应的输出变量中，包括是否变化、是否有上升沿或下降沿、上升沿或下降沿的位信息以及上升沿和下降沿的数量。\n\n该函数块不使用ENO（Enable Output）进行错误处理，因此ENO被设置为FALSE，表示没有错误处理机制。\n\n\n"}