{"title": "Unsigned Integer Histogram Calculation Function Block", "name": "LGF_Histogram_UDInt", "description": "The histogram shows the frequency distribution of a sample by class with unsigned integer values.", "type": "FUNCTION_BLOCK", "input": [{"name": "execute", "type": "Bool", "description": "Activation of the calculation with each positive edge."}, {"name": "numberOfClasses", "type": "UInt", "description": "Number of desired classes."}], "output": [{"name": "error", "type": "Bool", "description": "FALSE: No error, TRUE: An error occurred during the execution of the FB"}, {"name": "status", "type": "Word", "description": "Status of the FB and error identification."}, {"name": "subfunctionStatus", "type": "Word", "description": "Status or return value of called FB's, FC's and system blocks"}, {"name": "histValues", "type": "Array[0..1, 0..#CLASSES_COUNTER_UP_LIMIT] of LReal", "description": "Displays the relative frequency and class centers."}, {"name": "axis", "type": "Array[0..3] of LReal", "description": "Specifies the axis values."}, {"name": "classWidth", "type": "LReal", "description": "Returns the calculated class width."}], "in/out": [{"name": "values", "type": "Array[*] of UDInt", "description": "The array containing the data series for calculation."}], "return_value": [], "status_codes": {"16#0000": "STATUS_EXECUTION_FINISHED: Execution finished without errors", "16#7000": "STATUS_NO_CALL: No call of FB. The block waits for activation.", "16#7001": "STATUS_FIRST_CALL: First call of FB after enabling", "16#8600": "ERR_SHELL_SORT: Error in command `LGF_ShellSort_UDInt`.", "16#9101": "ERR_WRONG_NO_CLASSES: Incorrect number of classes."}, "user_defined_types": [], "description_zh": "\n该函数块旨在计算一个包含无符号整数值的样本的直方图，显示每个类别的频率分布。它接受一个布尔类型的输入execute，用于激活计算，以及一个无符号整数numberOfClasses，表示所需的类别数。\n\n函数块的输出包括：一个布尔类型的error，表示执行过程中是否发生错误；一个字类型的status，表示函数块的状态和错误识别；一个字类型的subfunctionStatus，表示被调用函数块、函数或系统块的状态或返回值；一个二维数组histValues，显示相对频率和类别中心；一个数组axis，指定轴值；以及一个LReal类型的classWidth，返回计算出的类别宽度。\n\n函数块还接受一个包含数据系列的数组values作为输入/输出参数。该数组用于直方图计算。\n\n函数块的状态代码包括：16#0000表示执行完成且没有错误；16#7000表示没有调用函数块，块处于等待激活状态；16#7001表示启用后第一次调用函数块；16#8600表示在命令`LGF_ShellSort_UDInt`中发生错误；16#9101表示类数不正确。\n\n在函数块的执行过程中，首先检查execute输入是否从假变为真，如果是，则初始化一些状态变量，并获取values数组的边界。然后，验证numberOfClasses是否在允许的范围内。接下来，进行直方图计算，包括对数组进行排序，确定最大值和最小值，计算类别宽度，填充临时数组，并搜索所有值以计算每个类别的频率值。最后，将计算出的频率值和类别中心复制到输出数组，并更新status和subfunctionStatus输出。\n\n最后，函数块将轴值和类别宽度写入输出，并根据ENO机制设置ENO为真。\n\n\n"}