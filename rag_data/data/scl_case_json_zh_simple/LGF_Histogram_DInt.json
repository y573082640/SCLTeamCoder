{"title": "Histogram Calculation Function Block for Integer Data", "name": "LGF_Histogram_DInt", "description": "The histogram shows the frequency distribution of a sample by class.", "type": "FUNCTION_BLOCK", "input": [{"name": "execute", "type": "Bool", "description": "Activation of the calculation with each positive edge."}, {"name": "numberOfClasses", "type": "UInt", "description": "Number of desired classes."}], "output": [{"name": "error", "type": "Bool", "description": "FALSE: No error, TRUE: An error occurred during the execution of the FB"}, {"name": "status", "type": "Word", "description": "Status of the FB and error identification."}, {"name": "subFunctionStatus", "type": "Word", "description": "Status or return value of called FB's, FC's and system blocks"}, {"name": "histValues", "type": "Array[0..1, 0..#CLASSES_COUNTER_UP_LIMIT] of LReal", "description": "Outputs the calculated values in a two-dimensional array."}, {"name": "axis", "type": "Array[0..3] of LReal", "description": "Specifies the axis values."}, {"name": "classWidth", "type": "LReal", "description": "Returns the calculated class width."}], "in/out": [{"name": "values", "type": "Array[*] of DInt", "description": "The array containing the data series that is to be used for the calculation."}], "return_value": [], "status_codes": {"16#0000": "STATUS_EXECUTION_FINISHED: Execution finished without errors", "16#7000": "STATUS_NO_CALL: No call of FB. The block waits for activation.", "16#7001": "STATUS_FIRST_CALL: First call of FB after enabling", "16#8600": "ERR_SHELL_SORT: Error in command `LGF_ShellSort_DInt`.", "16#9101": "ERR_WRONG_NO_CLASSES: Incorrect number of classes."}, "user_defined_types": [], "description_zh": "\n一个函数块FB，用于计算一系列整数型数据的直方图。该函数块接受一个布尔型输入execute来启动计算，以及一个无符号整型输入numberOfClasses来指定直方图的分类数量。函数块会输出一个二维数组histValues，其中包含每个分类的频率分布值和分类的中间值。此外，还会输出一个数组axis，其中包含直方图坐标轴的最小值、最大值、原点和最大频率值。函数块还会返回一个实型输出classWidth，表示每个分类的宽度。如果执行过程中出现错误，函数块会设置布尔型输出error为TRUE，并通过状态字status和子函数状态字subFunctionStatus返回具体的错误信息。直方图计算包括对输入数组values进行排序、确定最小值和最大值、计算分类宽度、统计每个分类的频率和相对频率，并计算每个分类的中间值。函数块使用LGF_ShellSort_DInt函数对输入数组进行排序，如果排序过程中出现错误，函数块会记录错误状态并返回相应的错误代码。如果指定的分类数量不正确，函数块也会返回错误代码。整个计算过程在execute信号的上升沿触发。\n\n\n"}