{"title": "Moving Average Calculation Function Block", "name": "LGF_FloatingAverage", "description": "This function calculates a moving arithmetic mean value from REAL values.", "type": "FUNCTION_BLOCK", "input": [{"name": "cyclicExecution", "type": "Bool", "description": "TRUE: cyclic operation, trigger not in use"}, {"name": "trigger", "type": "Bool", "description": "Read in `value` with every pulse at input `trigger`"}, {"name": "value", "type": "LReal", "description": "Value/s from which the moving average is to be determined."}, {"name": "windowSize", "type": "Int", "description": "Window length for sliding averaging in the range from 1..100. The standard value is 100."}, {"name": "reset", "type": "Bool", "description": "TRUE: The block is reset and the calculation starts again."}], "output": [{"name": "average", "type": "LReal", "description": "Moving / Floating average"}, {"name": "windowSizeReached", "type": "Bool", "description": "FALSE: Maximum window width not yet reached, TRUE: Maximum window width reached"}, {"name": "error", "type": "Bool", "description": "FALSE: No error, TRUE: An error occurred during the execution of the FB"}, {"name": "status", "type": "Word", "description": "Status of the FB and error identification."}], "in/out": [], "return_value": [], "status_codes": {"16#0000": "STATUS_FINISHED_NO_ERROR: Execution finished without errors", "16#8200": "ERR_WRONG_WINDOW_SIZE: Incorrect window size/width set."}, "user_defined_types": [], "description_zh": "\n一个函数块FB，用于计算一系列REAL类型数值的移动平均值。该函数块可以配置为周期性执行或由触发信号触发。它接受一个REAL类型的数值，并计算其移动平均值，窗口大小（即用于计算平均值的数值数量）可以在1到100之间调整，默认值为100。如果窗口大小改变或重置信号为TRUE，计算将重新开始。函数块还提供指示窗口大小是否已达到的输出，以及错误和状态信息。如果窗口大小设置不正确，将返回错误状态。函数块使用数组存储窗口内的数值，并在每次计算时更新平均值。\n\n\n"}