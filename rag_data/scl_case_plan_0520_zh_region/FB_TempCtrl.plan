{"variables": [], "instructions": [], "planning": "\n- 概述\n功能块 \"TempCtrl\" 实现了一个简单的温度控制系统，其中包括温度传感器的输入处理、设定温度的比较、加热器控制、过热保护以及传感器错误处理。\n\n- 变量定义\n代码中定义了以下几类变量：\n - 输入变量：TemperatureSensorInput (温度传感器输入值), SetTemperature (设定温度值)\n - 输出变量：CurrentTemperature (当前温度显示), SetTempDisplay (设定温度显示), HeaterStatus (加热器状态显示), OverheatProtection (过热保护状态显示)\n - 输入/输出变量：HeaterOutput (加热器控制输出)\n - 内部变量：HeaterState (加热器状态结构体), OverheatTimer (过热保护定时器), SensorError (传感器错误标志), CoolTimer (冷却定时器), OverheatTimerOutput (过热定时器输出), CoolTimerOutput (冷却定时器输出)\n\n- 主逻辑部分\n-- REGION 温度显示\n   此区域将温度传感器输入值和设定温度值赋给当前温度显示和设定温度显示输出。\n\n-- REGION 传感器错误检查\n   此区域检查温度传感器输入值是否在有效范围内。如果温度值小于0或大于100，则设置传感器错误标志为真，否则为假。\n\n-- REGION 温度控制逻辑\n   此区域包含过热保护逻辑和加热器控制逻辑。\n   - 过热保护逻辑\n     使用过热保护定时器 (TON_TIME) 来监控加热器输出。如果加热器启用并且过热定时器的输出为真，则触发过热保护，禁用加热器，并将加热器输出设置为假。\n   - 冷却定时器逻辑\n     使用冷却定时器 (TON_TIME) 来监控过热保护是否被触发。如果冷却定时器的输出为真，则重置过热保护触发标志。\n   - 加热器控制逻辑\n     如果传感器没有错误，则根据当前温度与设定温度的比较结果控制加热器。如果当前温度低于设定温度且过热保护未被触发，则启用加热器并设置输出为真。如果当前温度高于设定温度，则禁用加热器并设置输出为假。\n\n-- REGION 传感器错误处理\n   如果传感器错误标志为真，则禁用加热器并设置输出为假。\n\n-- REGION 状态显示\n   此区域将加热器状态和过热保护状态的内部变量值赋给相应的输出。\n\n\n", "name": "FB_TempCtrl"} 