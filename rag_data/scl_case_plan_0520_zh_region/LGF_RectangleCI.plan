{"variables": [], "instructions": [], "planning": "\n- 概述\n这段代码是一个名为“LGF_RectangleCI”的功能块，用于生成一个矩形信号配置文件。它使用调用周期性中断OB的时间间隔来生成信号。\n- 变量定义\n代码中定义了以下几类变量：\n  - 输入变量：振幅、偏移、周期、相移、调用OB、重置\n  - 输出变量：值、错误、状态、子功能状态\n  - 内部变量：状态计数器\n  - 临时变量：临时周期时间、临时周期相位、临时周期状态、临时读取时间状态、临时值、临时相移\n  - 常量：秒到毫秒的转换、零、比率、子状态无错误、状态完成无错误、查询CINT OB不可用、错误OB不可用、错误查询CINT\n- \n- 主逻辑部分\n  -- REGION Block info header\n     此区域包含功能块的元信息，例如标题、功能、库、作者、测试环境、工程、限制和要求。\n  -- REGION DESCRIPTION\n     此区域目前为空，但可以包含功能块的简单描述。\n  -- REGION Get sample time\n     此区域获取采样时间，根据调用周期性中断OB的编号。首先，使用QRY_CINT函数获取周期和相位信息。然后，检查是否有错误发生。如果有，则设置错误标志、状态和子功能状态，并将值设置为0，然后返回。否则，检查OB是否不可用。如果是，则设置错误标志、状态和子功能状态，并将值设置为0，然后返回。\n  -- REGION Caluclations and outputs assigment\n     此区域进行计算并将输出赋值。首先，使用模运算计算真正的相移。然后，检查是否需要重置。如果是，则将状态计数器设置为临时相移，并将临时值设置为0。否则，将状态计数器增加周期时间除以秒到毫秒的转换，然后使用模运算将计数器保持在周期范围内。接下来，计算输出值，根据计数器是否在相移和周期一半加相移之间，将临时值增加或减少振幅。最后，将临时值赋值给输出值，清除错误标志，并将状态设置为“完成无错误”。\n\n\n", "name": "LGF_RectangleCI"}