{"variables": [], "instructions": [], "planning": "\n- 概述\n这段代码是一个名为“LGF_RampCI”的功能块，它使用SCL编写，用于根据插值点表生成速度曲线。\n\n- 变量定义\n代码中定义了以下几类变量：\n  - 输入变量：默认输出值、控制步数、控制步长时间、启用默认输出值、开始、保持、继续、循环操作、更新时间、重置、调用OB\n  - 输出变量：输出值、活动时间表、步数、剩余时间、总时间、剩余总时间、错误、状态、子功能状态\n  - 输入/输出变量：设定值\n  - 内部变量：结束值、旧值、当前步数、当前剩余时间、总时间、剩余总时间、开始、时间表激活、开始存储、更新时间、重置、重置存储\n  - 临时变量：新值、索引、数组下限、数组上限、采样时间、循环时间、循环相位、循环状态、读取时间状态、状态\n\n- \n- 主逻辑部分\n  -- REGION Block info header\n     此区域包含功能块的元信息，例如标题、功能、库、作者、测试版本、工程、限制和要求。\n  -- REGION DESCRIPTION\n     此区域为空，但可以包含功能块的详细描述。\n  -- REGION Cycle time\n     此区域获取采样时间，根据循环中断OB号。使用`QRY_CINT`函数获取循环时间和相位，如果函数调用成功，则将循环时间转换为毫秒，并存储在`tempSampleTime`中。如果`QRY_CINT`函数返回错误或OB不可用，则生成错误信息并退出。\n  -- REGION Array lower/upper bound\n     此区域检查设定值数组的下限和上限。如果下限不等于0，则生成错误信息并退出。\n  -- REGION Function\n    -- REGION First Call\n       此区域处理功能块的第一次调用。当检测到开始信号的上升沿时，初始化状态，计算总时间，并将开始条件设置为真。\n    -- REGION Reset\n       此区域处理重置操作。当检测到重置信号的上升沿时，重置所有状态和输出值。\n    -- REGION Operation\n       此区域是功能块的主要操作部分。根据开始、保持、继续和循环操作信号，执行不同的操作。如果开始信号为真且未重置，则根据时间表激活状态执行不同的操作。如果保持信号为真，则冻结操作；如果继续信号为真，则设置继续条件；否则，执行正常操作，根据剩余时间计算新的输出值，并更新状态。\n    -- REGION Update time\n       此区域处理更新时间操作。当检测到更新时间信号的上升沿时，重置总时间，并根据当前步数计算剩余总时间。\n    -- REGION Default output\n       此区域处理默认输出值。如果启用默认输出值，则将输出值设置为默认值，并将时间表激活状态设置为假。\n  -- REGION Write outputs\n     此区域将计算出的输出值和状态信息写入输出变量。还将ENO设置为真，表示没有错误发生。\n\n\n", "name": "LGF_RampCI"}