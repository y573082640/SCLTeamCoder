{"variables": [], "instructions": [], "planning": "\n- 概述\n这段代码是一个名为“LGF_CosinusCI”的SCL功能块，用于生成一个余弦信号波形。它利用调用循环中断组织块的周期来计算输出值。\n- 变量定义\n代码中定义了以下几类变量：\n - 输入变量：振幅、偏移、周期、相移、调用OB、重置\n - 输出变量：值、错误、状态、子功能状态\n - 内部变量：状态弧度、状态相移、状态计数器\n - 临时变量：临时周期时间、临时周期相位、临时周期状态、临时读取时间状态\n - 常量：秒到毫秒的转换、零、斜率、2π、子状态无错误、状态完成无错误、查询CINT OB不可用、错误OB不可用、错误查询CINT\n- 主逻辑部分\n-- REGION Block info header\n   此区域包含功能块的元信息，简单描述。\n-- REGION DESCRIPTION\n   此区域目前为空，但可以包含功能块的简单描述。\n-- REGION Get sample time\n   此区域获取采样时间，根据调用的循环中断组织块的编号。首先，使用QRY_CINT函数获取周期时间和相位。然后，检查是否有错误发生。如果有，则设置错误标志、状态和子功能状态，并将输出值设置为0，然后返回。如果OB不可用，则设置错误标志、状态和子功能状态，并将输出值设置为0，然后返回。\n-- REGION Caluclations and outputs assigment\n   此区域执行计算并将输出值赋值。首先，检查是否需要重置。如果是，则将状态计数器和输出值设置为0。否则，首先使用周期时间增加计数器，然后使用取模运算确保计数器在周期范围内。接下来，将计数器转换为弧度，并计算相移。然后，使用余弦函数计算输出值，并加上偏移。最后，清除错误标志，并将状态和子功能状态设置为无错误，ENO机制设置为真。\n\n\n", "name": "LGF_CosinusCI"}