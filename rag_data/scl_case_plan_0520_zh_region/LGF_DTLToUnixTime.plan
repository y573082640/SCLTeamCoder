{"variables": [], "instructions": [], "planning": "\n- 概述\n这段代码是一个名为“LGF_DTLToUnixTime”的SCL函数，用于将DTL格式的日期和时间转换为Unix时间戳。Unix时间戳是从1970年1月1日UTC时间以来的秒数。该函数假设输入的时间是UTC时间，不考虑时区。只允许转换1990年1月1日之后的时间。\n\n- 变量定义\n代码中定义了以下几类变量：\n - 输入变量：timeDTL（DTL格式的日期和时间）\n - 输出变量：error（转换过程中是否有错误）、status（错误代码或状态码）\n - 临时变量：tempTimeDtl、tempUnixTime\n - 常量：DELTA_1970_1990（1970年到1990年的秒数差）、SEC_PER_DAY（每天的秒数）、TIME_ZERO_FORCE_UPDATE（用于强制更新时间标签）、STATUS_EXECUTION_FINISHED_NO_ERROR（转换成功且无错误的状态码）、ERR_TIME_BEFORE_1990（时间早于1990年的错误码）、ERR_DTL_INPUT_VALUE_INVALID（DTL输入值无效的错误码）、CONVERSION_LIMIT（允许的最小时间限制，即1990年1月1日）\n\n- 主逻辑部分\n-- REGION BLOCK INFO HEADER\n   此区域包含函数的元信息，包括标题、功能描述、库/系列、作者、测试环境、工程环境、限制和要求。\n\n-- REGION INITIALISATION\n   此区域初始化tempUnixTime变量，将其设置为0。\n\n-- REGION CONVERT\n   此区域包含转换逻辑。首先，将输入的时间DTL与一个强制更新的时间常数相加，以确保PLC更新时间标签。如果ENO（Enable Out）信号为假，表示DTL格式无效，函数将返回一个错误状态ERR_DTL_INPUT_VALUE_INVALID。如果时间早于1990年1月1日，则返回错误状态ERR_TIME_BEFORE_1990。如果两者都不是，则将系统时间（UTC）转换为Unix时间戳。\n\n-- REGION OUTPUTS\n   此区域将转换结果和状态码写入输出变量。如果转换成功，则将tempUnixTime赋值给函数的输出LGF_DTLToUnixTime，将error设置为FALSE，表示没有错误发生，并将status设置为STATUS_EXECUTION_FINISHED_NO_ERROR，表示执行完成且没有错误。\n\n\n", "name": "LGF_DTLToUnixTime"}