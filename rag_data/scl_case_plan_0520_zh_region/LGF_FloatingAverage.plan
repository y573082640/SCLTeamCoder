{"variables": [], "instructions": [], "planning": "\n- 概述\n这段代码是一个名为“LGF_FloatingAverage”的功能块，用于计算输入实数值的浮动算术平均值。它可以在每个周期或每个触发脉冲后进行计算。\n\n- 变量定义\n代码中定义了以下几类变量：\n - 输入变量：周期性执行、触发、值、窗口大小、重置\n - 输出变量：平均值、窗口大小已达到、错误、状态\n - 内部变量：值数组、值总和、算术平均值、旧窗口大小、计数器、窗口大小已达到、旧触发器\n - 临时变量：临时值、临时索引、临时触发边缘\n - 常量：零整数、零实数、最大窗口大小、增量、状态完成无错误、错误窗口大小错误\n\n- \n- 主逻辑部分\n  -- REGION Block info header\n     此区域包含功能块的元信息，如标题、功能、库、作者、测试、工程、限制和要求。\n     \n  -- REGION DESCRIPTION\n     此区域目前为空，但可以包含功能块的详细描述。\n     \n  -- REGION Initialization and input data processing\n     此区域处理功能块的初始化和输入数据处理。首先，将常用的数据复制到临时变量中。然后，使用边缘检测来触发计算。接下来，检查是否重置或窗口大小是否发生变化。如果是，则重置内部状态和输出。然后，检查窗口大小是否正确。如果不正确，则设置错误状态并退出。\n     \n  -- REGION Floating average calculation\n     此区域计算浮动平均值。首先，检查是否触发计算或周期性执行。如果是，则计算数组计数器的模。然后，检查计数器是否小于窗口大小。如果是，则将值添加到总和和窗口中，并递增计数器。计算平均值。否则，设置窗口大小已达到的输出，并将值添加到总和和窗口中。计算平均值。如果模计算结果为零，则操纵窗口的计数器值。\n     \n  -- REGION Outputs\n     此区域将内部变量的值写入输出变量。首先，将平均值、窗口大小已达到和状态输出设置为相应的值。然后，将ENO机制设置为真，因为在此功能块中不使用ENO。\n\n\n", "name": "LGF_FloatingAverage"}