{"variables": [], "instructions": [], "planning": "\n- 概述\n这段代码是一个名为“LGF_DTLToJulianDate”的SCL函数，它将DTL格式的日期和时间转换为儒略日和修改后的儒略日，这两个日期都是以LReal（双精度浮点数）类型表示的。该函数基于UTC时间计算时间戳，不考虑时区。只允许转换1990年1月1日之后的时间。\n\n- 变量定义\n代码中定义了以下几类变量：\n - 输入变量：timeDTL（输入的日期和时间）\n - 输出变量：julianDate（儒略日）、modifiedJulianDate（修改后的儒略日）、error（错误标志）、status（状态码）\n - 临时变量：tempTimeDtl、tempUnixTime、tempJulianDate、tempModifiedJulianDate\n - 常量：DELTA_1970_1990、SEC_PER_DAY、OFFSET_JULIAN_DATE_TO_UNIX、OFFSET_MODIFIED_JULIAN_DATE_TO_JULIAN_DATE、TIME_ZERO_FORCE_UPDATE、STATUS_EXECUTION_FINISHED_NO_ERROR、ERR_DTL_INPUT_VALUE_INVALID、ERR_TIME_BEFORE_1990、CONVERSION_LIMIT\n\n- 主逻辑部分\n-- REGION BLOCK INFO HEADER\n   此区域包含函数的元信息，如作者、功能描述、测试环境等。\n\n-- REGION INITIALISATION\n   此区域初始化临时变量，为转换做准备。\n\n-- REGION CONVERT\n   此区域执行实际的日期转换逻辑。首先，将输入的时间戳加上一个零值时间，以强制PLC更新时间戳，并在DTL值出现错误时设置ENO（没有错误）。然后，检查DTL是否具有有效的格式和数据。如果没有，则设置错误标志和状态码，并返回。否则，检查时间是否早于1990年1月1日。如果是，则设置错误标志和状态码，并返回。接下来，将系统时间（UTC）转换为UNIX时间，然后转换为儒略日和修改后的儒略日。\n\n-- REGION OUTPUTS\n   此区域将转换结果写入输出变量。将计算出的儒略日和修改后的儒略日写入对应的输出变量，并设置错误标志为假，状态码为“执行完成，没有错误”。\n\n\n", "name": "LGF_DTLToJulianDate"}