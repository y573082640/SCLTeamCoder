{ "title": "Industrial Equipment Maintenance Management System", "description": "In industrial production, the maintenance and upkeep of equipment are crucial for ensuring production efficiency and safety. An effective equipment maintenance management system can help factory managers track equipment status, record maintenance history, and schedule regular maintenance tasks. The system needs to store and process various equipment-related data and provide query, update, and delete functions.\nControl requirements: Equipment data storage: The system needs to store maintenance data for equipment, including equipment ID, equipment type, maintenance cycle, and last maintenance time.\nThe system should allow input of new equipment maintenance data and store it in the equipment maintenance database.\nThe system should allow querying equipment maintenance details by equipment ID and output the information of the equipment.\nThe system should allow updating equipment maintenance data by equipment ID.\nThe system should allow deleting equipment maintenance records by equipment ID.\nExplanation:\n1. Equipment maintenance data is structured as a Struct data type, including equipment ID (deviceID), equipment type (deviceType), maintenance cycle (days) (maintenanceCycle), and last maintenance time (lastMaintenanceTime). The equipment maintenance database can store up to 5 pieces of equipment maintenance data, structured as an Array[1..5] of Struct, with unique equipment IDs. An equipment ID of 0 indicates that the position is vacant and can be used for storage.\n2. When the queryMaintenance signal is triggered, the system first queries the equipment data by the equipment ID in maintenanceIn. If the ID does not exist, it outputs an error status (error=true) and error code (status=16#8001). If the ID exists, it outputs the corresponding equipment data to the maintenanceQueryResult.\n3. When the addMaintenance signal is triggered, the system first queries the equipment data by the equipment ID in maintenanceIn. If there is a duplicate ID, it outputs an error status (error=true) and error code (status=16#8002). Secondly, if there is no free space in the maintenance database, it outputs an error status (error=true) and error code (status=16#8003). If these errors do not exist, it stores the input equipment data into the maintenance database, prioritizing the lowest-numbered vacant position.\n4. When the deleteMaintenance signal is triggered, the system first queries the equipment data by the equipment ID in maintenanceIn. If the ID does not exist, it outputs an error status (error=true) and error code (status=16#8004). If the ID exists, it deletes the equipment data by setting the equipment ID in the maintenance database to 0.\n5. When the modifyMaintenance signal is triggered, the system first compares the equipment ID in maintenanceIn with all equipment data in the maintenance database. If the ID does not exist, it outputs an error status (error=true) and error code (status=16#8005). If the ID exists, it updates the corresponding equipment data with the input data.", "type": "FUNCTION_BLOCK", "name": "LGF_MaintenanceManager", "input": [ { "name": "addMaintenance", "type": "Bool", "description": "Add maintenance data request signal" }, { "name": "deleteMaintenance", "type": "Bool", "description": "Delete maintenance data request signal" }, { "name": "modifyMaintenance", "type": "Bool", "description": "Modify maintenance data request signal" }, { "name": "queryMaintenance", "type": "Bool", "description": "Query maintenance data request signal" }, { "name": "maintenanceIn", "type": "Struct", "description": "Input maintenance data", "fields": [ { "name": "deviceID", "type": "Int", "description": "Equipment ID" }, { "name": "deviceType", "type": "Int", "description": "Equipment type" }, { "name": "maintenanceCycle", "type": "Int", "description": "Maintenance cycle" }, { "name": "lastMaintenanceTime", "type": "Date", "description": "Last maintenance time" } ] } ], "output": [ { "name": "maintenanceAdded", "type": "Bool", "description": "Maintenance data added successfully indicator" }, { "name": "maintenanceDeleted", "type": "Bool", "description": "Maintenance data deleted successfully indicator" }, { "name": "maintenanceModified", "type": "Bool", "description": "Maintenance data modified successfully indicator" }, { "name": "maintenanceQueryResult", "type": "Struct", "description": "Maintenance data query result output", "fields": [ { "name": "deviceID", "type": "Int", "description": "Equipment ID" }, { "name": "deviceType", "type": "Int", "description": "Equipment type" }, { "name": "maintenanceCycle", "type": "Int", "description": "Maintenance cycle" }, { "name": "lastMaintenanceTime", "type": "Date", "description": "Last maintenance time" } ] }, { "name": "error", "type": "Bool", "description": "Error status indicator\nFALSE: No error occurred\nTRUE: Execution error" }, { "name": "status", "type": "Word", "description": "Status code" } ], "in/out": [ { "name": "maintenance", "type": "Array[1..5] of Struct", "description": "Maintenance database", "fields": [ { "name": "deviceID", "type": "Int", "description": "Equipment ID" }, { "name": "deviceType", "type": "Int", "description": "Equipment type" }, { "name": "maintenanceCycle", "type": "Int", "description": "Maintenance cycle" }, { "name": "lastMaintenanceTime", "type": "Date", "description": "Last maintenance time" } ] } ], "status_code": [ { "16#8001": "ERR_DEVICE_NOT_FOUND", "16#8002": "ERR_DUPLICATE_DEVICE_ID", "16#8003": "ERR_NO_FREESPACE", "16#8004": "ERR_DELETE_DEVICE_NOT_FOUND", "16#8005": "ERR_MODIFY_DEVICE_NOT_FOUND" } ] }